[{"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/App.js":"1","/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/hook/use-auth.jsx":"2","/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/components/PrivateRoute.jsx":"3","/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/components/DeviceDialog.jsx":"4","/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/reportWebVitals.js":"5","/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/pages/Admin.jsx":"6","/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/components/AdminRoute.jsx":"7","/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/components/DeviceRefreshTokenDialog.jsx":"8","/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/index.js":"9","/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/config/firebase.js":"10"},{"size":1171,"mtime":1609930518000,"results":"11","hashOfConfig":"12"},{"size":5107,"mtime":1609930518000,"results":"13","hashOfConfig":"12"},{"size":650,"mtime":1609930518000,"results":"14","hashOfConfig":"12"},{"size":6293,"mtime":1609930518000,"results":"15","hashOfConfig":"12"},{"size":362,"mtime":1609930518000,"results":"16","hashOfConfig":"12"},{"size":533,"mtime":1609930518000,"results":"17","hashOfConfig":"12"},{"size":649,"mtime":1609930518000,"results":"18","hashOfConfig":"12"},{"size":3622,"mtime":1609930518000,"results":"19","hashOfConfig":"12"},{"size":546,"mtime":1609930518000,"results":"20","hashOfConfig":"12"},{"size":1719,"mtime":1609930518000,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"10t55mk",{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/App.js",["46"],"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/hook/use-auth.jsx",["47","48"],"import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport { useHistory } from \"react-router-dom\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\n\n// // {\n// //   apiKey: \"AIzaSyDUnozcahXIVhLOFxSNsyzmiXUa6sefkTY\",\n// //   authDomain: \"iotbaseonfabric.firebaseapp.com\",\n// //   databaseURL: \"https://iotbaseonfabric.firebaseio.com\",\n// //   projectId: \"iotbaseonfabric\",\n// //   storageBucket: \"iotbaseonfabric.appspot.com\",\n// //   messagingSenderId: \"1028990275388\",\n// //   appId: \"1:1028990275388:web:398fbc8ae9a8446c559839\",\n// //   measurementId: \"G-JHZP0BRYCN\",\n// // };\n\nif (!firebase.apps.length) {\n  firebase.initializeApp({\n    apiKey: \"AIzaSyCFoqpUGjvJIBYGC5pMa_SjFGpbe7_WHmg\",\n    authDomain: \"luanvan-iot-final.firebaseapp.com\",\n    databaseURL: \"https://luanvan-iot-final.firebaseio.com\",\n    projectId: \"luanvan-iot-final\",\n    storageBucket: \"luanvan-iot-final.appspot.com\",\n    messagingSenderId: \"976679303624\",\n    appId: \"1:976679303624:web:e5f01bdcfd6d0fb346a8fd\",\n    measurementId: \"G-FX303DMKTB\",\n  });\n}\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStylesAlert = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport const fbase = firebase;\nexport const db = firebase.firestore();\n\nconst authContext = createContext({});\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nfunction useProvideAuth() {\n  const history = useHistory();\n  const [state, setState] = useState({\n    initializing: true,\n    user: null,\n    customClaims: null,\n  });\n\n  async function onChange(user) {\n    if (user) {\n      console.log(\"on change\");\n      const tokenResult = await firebase.auth().currentUser.getIdTokenResult();\n      setState({ initializing: false, user, customClaims: tokenResult });\n    } else {\n      console.log(\"NO change\");\n      setState({\n        ...state,\n        initializing: false,\n        user: null,\n        customClaims: null,\n      });\n    }\n  }\n\n  const signin = async (email, password) => {\n    firebase\n      .auth()\n      .setPersistence(firebase.auth.Auth.Persistence.SESSION)\n      .then(async function () {\n        try {\n          const v = await firebase\n            .auth()\n            .signInWithEmailAndPassword(email, password);\n\n          const idtoken = await v.user.getIdToken();\n          const result = await axios({\n            method: \"POST\",\n            url: \"http://localhost:4002/api/admin/setcustomclaims\",\n            headers: {\n              Authorization: \"Bearer \" + idtoken,\n            },\n          });\n\n          // console.log(result.data);\n          const data = result.data;\n          if (data.status == \"success\" && data) {\n            const newtoken = await firebase.auth().currentUser.getIdToken(true);\n            console.log(\"oke\", newtoken);\n            // toaster.positive(`Auth with ${v.user.email}`, {\n            //   autoHideDuration: 5000,\n            // });\n            <Snackbar open={true} autoHideDuration={5000}>\n              <Alert severity=\"success\">{`Auth with ${v.user.email}`}</Alert>\n            </Snackbar>;\n            history.replace(\"/\");\n          } else {\n            // toaster.warning(\"Auth error user does not a admin\", {\n            //   autoHideDuration: 5000,\n            // });\n            <Snackbar open={true} autoHideDuration={5000}>\n              <Alert severity=\"success\">\n                {\"Auth error user does not a admin\"}\n              </Alert>\n            </Snackbar>;\n            firebase.auth().signOut();\n          }\n        } catch (err) {\n          console.log(err);\n          <Snackbar open={true} autoHideDuration={5000}>\n            <Alert severity=\"success\">{err.message}</Alert>\n          </Snackbar>;\n        }\n        // const v = await firebase\n        //   .auth()\n        //   .signInWithEmailAndPassword(email, password);\n\n        // toaster.positive(`Auth with ${v.user.email}`, {\n        //   autoHideDuration: 5000,\n        // });\n        // return v;\n      })\n      .catch(function (error) {\n        // toaster.warning(error.message, {\n        //   autoHideDuration: 5000,\n        // });\n        <Snackbar open={true} autoHideDuration={5000}>\n          <Alert severity=\"success\">{error.message}</Alert>\n        </Snackbar>;\n      });\n  };\n\n  const signout = () => {\n    //history.push('/')\n    sessionStorage.clear();\n    return firebase.auth().signOut();\n  };\n\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged(onChange);\n    return () => unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return {\n    state,\n    signin,\n    signout,\n  };\n}\n",["49","50"],"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/components/PrivateRoute.jsx",[],"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/components/DeviceDialog.jsx",[],"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/reportWebVitals.js",[],["51","52"],"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/pages/Admin.jsx",[],["53","54"],"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/components/AdminRoute.jsx",["55","56","57"],"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/components/DeviceRefreshTokenDialog.jsx",["58","59","60","61"],"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/index.js",[],"/home/minhtai/Desktop/LuanVan/finnaliotbaseonblockchain/iotbaseblockchain-master/webui/web-admin/src/config/firebase.js",[],{"ruleId":"62","severity":1,"message":"63","line":18,"column":9,"nodeType":"64","messageId":"65","endLine":18,"endColumn":14},{"ruleId":"62","severity":1,"message":"66","line":39,"column":7,"nodeType":"64","messageId":"65","endLine":39,"endColumn":21},{"ruleId":"67","severity":1,"message":"68","line":107,"column":27,"nodeType":"69","messageId":"70","endLine":107,"endColumn":29},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"71","replacedBy":"75"},{"ruleId":"73","replacedBy":"76"},{"ruleId":"71","replacedBy":"77"},{"ruleId":"73","replacedBy":"78"},{"ruleId":"62","severity":1,"message":"79","line":3,"column":8,"nodeType":"64","messageId":"65","endLine":3,"endColumn":20},{"ruleId":"62","severity":1,"message":"80","line":4,"column":8,"nodeType":"64","messageId":"65","endLine":4,"endColumn":17},{"ruleId":"62","severity":1,"message":"81","line":6,"column":8,"nodeType":"64","messageId":"65","endLine":6,"endColumn":19},{"ruleId":"62","severity":1,"message":"82","line":9,"column":8,"nodeType":"64","messageId":"65","endLine":9,"endColumn":13},{"ruleId":"62","severity":1,"message":"83","line":11,"column":8,"nodeType":"64","messageId":"65","endLine":11,"endColumn":18},{"ruleId":"62","severity":1,"message":"84","line":15,"column":8,"nodeType":"64","messageId":"65","endLine":15,"endColumn":18},{"ruleId":"62","severity":1,"message":"85","line":16,"column":10,"nodeType":"64","messageId":"65","endLine":16,"endColumn":25},"no-unused-vars","'Login' is defined but never used.","Identifier","unusedVar","'useStylesAlert' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-native-reassign",["86"],"no-negated-in-lhs",["87"],["86"],["87"],["86"],["87"],"'PrivateRoute' is defined but never used.","'Dashboard' is defined but never used.","'UserManager' is defined but never used.","'Alert' is defined but never used.","'Typography' is defined but never used.","'CancelIcon' is defined but never used.","'CheckCircleIcon' is defined but never used.","no-global-assign","no-unsafe-negation"]